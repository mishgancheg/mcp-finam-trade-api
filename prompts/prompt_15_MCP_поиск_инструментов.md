# –ó–∞–¥–∞—á–∞

–≤ –º–æ–¥—É–ª–µ services/instrument-search.js
–ù–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Ç–æ—Ä–≥–æ–≤—ã–º –∏–Ω—Å—Ç—Ä—É–º–Ω—Ç–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º.
–ò—Å—Ç–æ—á–Ω–∏–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ - src/api.ts - —Ñ—É–Ω–∫—Ü–∏—è getInstruments.
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ç–∞–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤:
```json
{
  "symbol": "LQDT@MISX",
  "id": "3728099",
  "ticker": "LQDT",
  "mic": "MISX",
  "isin": "RU000A1014L8",
  "type": "FUNDS",
  "name": "LQDT ETF"
}
```
–í—Å–µ–≥–æ —Å–≤—ã—à–µ 15000 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

–ù—É–∂–µ–Ω —Ç–æ—á–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º: `symbol`, `id`, `isin`, `ticker`
–∏ –ø–æ–∏—Å–∫ –ø–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—é –ø–æ `name`


## MCP tool SearchAsset
–û–±–µ—Ä–Ω—É—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–∏—Å–∫–∞ –≤ MCP tool.


## –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ 
1) –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–∞–º—è—Ç–∏ 
2) –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥–∏—Å–∫ –≤ assets_data.json.


## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1) –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç–µ—Ä test/search /test-search-http.js
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–µ—Ä–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–ø—É—Å–∫ MCP —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É HTTP
–¢–µ—Å—Ç–µ—Ä —á–µ–∫–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏–Ω–¥–µ–∫—Å–∞, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –µ–≥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–µ—Ä–∏—é —Ç–µ—Å—Ç–æ–≤. 
–ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ - –≥–∞—Å–∏—Ç MCP —Å–µ—Ä–≤–µ—Ä –∏ –≤—ã—Ä—É–±–∞–µ—Ç—Å—è —Å–∞–º

2) –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç–µ—Ä test/search/test-search-stdio.js
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–µ—Ä–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É MCP –ø–æ stdio –∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ–∏—Å–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

3) –ù–∞–ø–∏—à–∏ —Ç–µ—Å—Ç–µ—Ä –≤ –º–æ–¥—É–ª–µ test/search/direct-search.js
   –û–Ω –¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ç–∞–∫ –∂–µ, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—Ç–µ—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É. –ò –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–µ—Ä–∏—é —Ç–µ—Å—Ç–æ–≤ –≥–∏–±—Ä–∏–¥–Ω—ã–º –ø–æ–∏—Å–∫–æ–º.
   –ù–∞–ø—Ä—è–º—É—é –¥–µ—Ä–≥–∞—è —Ñ—É–Ω–∫—Ü—é –ø–æ–∏—Å–∫–∞.



## 2. –°—Ü–µ–Ω–∞—Ä–∏–π STDIO (MCP –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤)
1. –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å–∞:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `data.json` –Ω–∞ –¥–∏—Å–∫–µ.
   - –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ **–Ω–µ—Ç** ‚Üí —Å—Ö–æ–¥–∏—Ç—å –≤ API, —Å–∫–∞—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ –¥–∏—Å–∫.
   - –ï—Å–ª–∏ —Ñ–∞–π–ª **–µ—Å—Ç—å** ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞.
2. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ –ø–∞–º—è—Ç–∏ (–Ω–µ—Å–∫–æ–ª—å–∫–æ `Map` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞).
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ –∏–Ω–¥–µ–∫—Å—É –∏ –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
4. –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å.

üìå –ó–¥–µ—Å—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ¬´—Ä–∞–∑ –≤ 4 —á–∞—Å–∞¬ª –Ω–µ –≤ –ø–∞–º—è—Ç–∏ (—Ç.–∫. –ø—Ä–æ—Ü–µ—Å—Å —É–º–∏—Ä–∞–µ—Ç), –Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –º–µ—Ç–∫—É –≤—Ä–µ–º–µ–Ω–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ –∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
- –µ—Å–ª–∏ –∫—ç—à —Å—Ç–∞—Ä—à–µ 4 —á. ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å –∏–∑ API.

---

## 3. –°—Ü–µ–Ω–∞—Ä–∏–π HTTP/SSE (MCP —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä)
1. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å –∫—ç—à–µ–º.
   - –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ API, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã.
   - –ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª, –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã.
2. –•—Ä–∞–Ω–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ –ø–∞–º—è—Ç–∏ –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–æ–¥–∏–Ω —Ä–∞–∑).
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä/cron (–∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞):
   - —Å—Ö–æ–¥–∏—Ç—å –≤ API,
   - –æ–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª,
   - –ø–µ—Ä–µ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã.  

---


## 7. –û—Ç–ª–∏—á–∏–µ STDIO vs HTTP
- **STDIO**: –∫—ç—à –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å –¥–∏—Å–∫–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ ¬´—Å—Ç–∞—Ä—à–µ 4—á?¬ª ‚Üí –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ.
- **HTTP/SSE**: –∫—ç—à –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ –ø–∞–º—è—Ç—å –∏ –ø–µ—Ä–µ–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 4 —á–∞—Å–∞, –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –≤ –ø–∞–º—è—Ç—å.  
